var InitApp=function(){var t=function(){$("#btnRegresar").click((function(){window.location.href="/admin/sliders"}))},e=function(){var t=$("#tbStatus").val(),e=$("#tbStatusDirection").val();"Activo"==t?$("#checkStatus").prop("checked",!0):$("#checkStatus").prop("checked",!1),"Activo"==e?$("#checkStatusDirection").prop("checked",!0):$("#checkStatusDirection").prop("checked",!1)},a=function(){"Oculto"==$("#tbStatus").val()&&$("#listOrder").hide(),$("#checkStatus").change((function(){this.checked?$("#listOrder").show():$("#listOrder").hide()}))},r=function(t){var e=new FormData($(t).get(0));$("#editForm input").attr("disabled",!0),$("#editForm select").attr("disabled",!0),$("#btnSave").addLoader(),$.ajax({data:e,type:"POST",contentType:!1,processData:!1,url:$(t).attr("action")}).always((function(){$("#editForm input").attr("disabled",!1),$("#editForm select").attr("disabled",!1),$("#btnSave").removeLoader()})).done((function(t){toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success),location.href="/admin/sliders".proto().parseURL()})).fail((function(t){toastr.error(t.responseText,_app.constants.toastr.title.error),null!=t.responseText?$("#alert-text").html(t.responseText):$("#alert-text").html(_app.constants.toastr.message.error.task),$("#m-form_alert").removeClass("m--hide").show()}))},o=function(){$("#editForm").validate({submitHandler:function(t,e){e.preventDefault(),r(t)}})},i=function(){$("#upload-offi").hide(),$uploadCrop=$("#upload-demo").croppie({enableExif:!0,viewport:{width:1920,height:950,type:"square"},boundary:{width:1940,height:980}});var t=$("#imgValue").val();$(".cr-image").css("transform","translate3d(10px, 15px, 0) scale(1)"),$(".cr-image").attr("src",t),$(".cr-slider-wrap").hide(),$("#Image").on("change",(function(){var t=new FileReader;t.onload=function(t){$uploadCrop.croppie("bind",{url:t.target.result}).then((function(){$(".upload-result").prop("disabled",!1),$(".cr-slider-wrap").show()}))},t.readAsDataURL(this.files[0])})),$(".upload-result").click((function(t){$uploadCrop.croppie("result",{type:"canvas",size:"viewport"}).then((function(t){$("#upload-preview").attr("src",t),$("#preview-modal").modal("show")}))})),$("#btnCropSave").click((function(t){$uploadCrop.croppie("result",{type:"canvas",size:"viewport"}).then((function(t){$("#preview-modal").modal("hide"),$("#img-offi").attr("src",t),$("#upload-demo").hide(),$("#upload-offi").show(),$(".upload-result").prop("disabled",!0),$("#urlCropImg").val(t)}))}))},n=function(){$("#SequenceOrder").select2(),$("#Status").select2()};return{init:function(){n(),i(),e(),o(),t(),a()}}}();$((function(){InitApp.init()}));